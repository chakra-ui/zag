```tsx
import * as presence from "@zag-js/presence"
import { useMachine, normalizeProps } from "@zag-js/solid"
import { createMemo, createUniqueId, JSX } from "solid-js"

interface PresenceProps {
  present: boolean
  keepMounted?: boolean
  onExitComplete?: () => void
  children: JSX.Element
}

function Presence(props: PresenceProps) {
  const [localProps, restProps] = splitProps(props, [
    "present",
    "keepMounted",
    "onExitComplete",
  ])

  const [state, send] = useMachine(presence.machine({ present }), {
    context: { present, onExitComplete },
  })

  const api = createMemo(() => presence.connect(state, send, normalizeProps))
  const unmount = createMemo(() => !api().present && !localProps.keepMounted)

  return (
    <Show when={!unmount()}>
      <div
        hidden={!api().present}
        data-presence
        data-state={api().skip ? undefined : present ? "open" : "closed"}
        ref={api().setNode}
        {...restProps}
      />
    </Show>
  )
}
```
