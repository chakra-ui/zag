@layer recipes {
  @keyframes nav-menu-from-right {
    from {
      transform: translate3d(200px, 0, 0);
      opacity: 0;
    }
    to {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }

  @keyframes nav-menu-from-left {
    from {
      transform: translate3d(-200px, 0, 0);
      opacity: 0;
    }
    to {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }

  @keyframes nav-menu-to-right {
    from {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
    to {
      transform: translate3d(200px, 0, 0);
      opacity: 0;
    }
  }

  @keyframes nav-menu-to-left {
    from {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
    to {
      transform: translate3d(-200px, 0, 0);
      opacity: 0;
    }
  }

  @keyframes nav-menu-scale-in {
    from {
      transform: rotateX(-30deg) scale(0.9);
      opacity: 0;
    }
    to {
      transform: rotateX(0deg) scale(1);
      opacity: 1;
    }
  }

  @keyframes nav-menu-scale-out {
    from {
      transform: rotateX(0deg) scale(1);
      opacity: 1;
    }
    to {
      transform: rotateX(-10deg) scale(0.95);
      opacity: 0;
    }
  }

  @keyframes nav-menu-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes nav-menu-fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  .Root {
    --arrow-size: 20px;
    --indicator-size: 10px;
    position: relative;
  }

  .List {
    all: unset;
    list-style: none;
    display: flex;

    &[data-orientation="vertical"] {
      flex-direction: column;
    }
  }

  .Trigger,
  .Link {
    padding: 10px 16px;
    font-weight: 500;
    display: flex;
    align-items: center;
    border: 0;
    background: transparent;
    font-size: inherit;
    gap: 4px;
    cursor: pointer;

    &:focus-visible {
      outline: 2px solid var(--colors-bg-primary-bold);
      outline-offset: 2px;
    }

    & svg {
      transition: rotate 200ms ease;
      width: 14px;
      height: 14px;
    }

    &[data-state="open"] > svg {
      rotate: -180deg;
    }
  }

  .Content {
    position: absolute;
    top: 0;
    left: 0;
    display: grid;
    flex-direction: column;
    gap: 10px;
    padding: 20px;
    will-change: transform, opacity;

    &[data-motion="from-start"] {
      animation: nav-menu-from-left 250ms ease;
    }

    &[data-motion="from-end"] {
      animation: nav-menu-from-right 250ms ease;
    }

    &[data-motion="to-start"] {
      animation: nav-menu-to-left 250ms ease;
    }

    &[data-motion="to-end"] {
      animation: nav-menu-to-right 250ms ease;
    }
  }

  .ViewportPositioner {
    position: absolute;
    display: flex;
    justify-content: center;

    &[data-orientation="horizontal"] {
      top: 100%;
      left: 0;
    }

    &[data-orientation="vertical"] {
      top: 0;
      left: 100%;
    }
  }

  .Viewport {
    position: relative;
    top: 0;
    left: 0;
    background-color: var(--colors-bg-popover);
    transition:
      width 300ms ease,
      height 300ms ease;
    width: var(--viewport-width);
    flex: 0 0 auto;
    height: var(--viewport-height);
    transform-origin: top center;
    overflow: hidden;
    border-radius: 8px;
    filter: drop-shadow(0 1px 2px var(--colors-shadow));
    z-index: calc(var(--layer-index) + 50);

    &[data-orientation="horizontal"] {
      margin-top: 15px;
    }

    &[data-orientation="vertical"] {
      margin-left: 15px;
    }

    &[data-state="open"] {
      animation: nav-menu-scale-in 200ms ease;
    }

    &[data-state="closed"] {
      animation: nav-menu-scale-out 200ms ease;
    }
  }

  .Indicator {
    display: flex;
    justify-content: center;
    height: var(--indicator-size);
    z-index: 2;
    transition:
      translate 250ms ease,
      width 250ms ease;
    overflow: hidden;

    &[data-orientation="horizontal"] {
      bottom: -15px;
      left: 0px;
      translate: var(--trigger-x) 0;
      width: var(--trigger-width);
    }

    &[data-orientation="vertical"] {
      top: 0px;
      right: -15px;
      translate: 0 var(--trigger-y);
      height: var(--trigger-height);
      align-items: center;
    }

    &[data-state="open"] {
      animation: nav-menu-fade-in 250ms ease;
    }

    &[data-state="closed"] {
      animation: nav-menu-fade-out 250ms ease;
    }
  }

  .Arrow {
    position: relative;
    width: var(--arrow-size);
    height: var(--arrow-size);
    background-color: var(--colors-bg-popover);
    rotate: 45deg;
    box-shadow: -1px -1px 1px
      color-mix(in srgb, var(--colors-shadow) 40%, transparent);

    &[data-orientation="horizontal"] {
      top: 4px;
    }

    &[data-orientation="vertical"] {
      left: 12px;
    }
  }

  .GridLinkList,
  .FlexLinkList {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .GridLinkList {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    width: 400px;
  }

  .FlexLinkList {
    display: flex;
    flex-direction: column;
    gap: 8px;
    width: 250px;
  }

  .LinkCard {
    display: block;
    padding: 12px;
    border-radius: 6px;
    text-decoration: none;

    & p {
      font-weight: 400;
      font-size: 14px;
    }

    &:hover {
      background-color: rgba(126, 126, 126, 0.171);
    }
  }
}
